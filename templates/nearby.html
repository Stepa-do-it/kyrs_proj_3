<!DOCTYPE html>
<html>
<head>
    <title>–ë–ª–∏–∂–∞–π—à–∏–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã - –°–ø–æ—Ä—Ç —Ä—è–¥–æ–º</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .back-link {
            margin-bottom: 20px;
        }
        .back-link a {
            color: #3498db;
            text-decoration: none;
        }
        .address-info {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .facility-card {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            transition: transform 0.2s;
        }
        .facility-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .facility-card h3 {
            margin: 0 0 10px 0;
            color: #2c3e50;
        }
        .facility-card h3 a {
            color: #2c3e50;
            text-decoration: none;
        }
        .facility-card h3 a:hover {
            color: #3498db;
        }
        .distance {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        .available-full { color: #27ae60; font-weight: bold; }
        .available-partial { color: #f39c12; font-weight: bold; }
        .available-none { color: #e74c3c; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="back-link">
            <a href="/">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a> | <a href="/profile">‚Üê –í –ø—Ä–æ—Ñ–∏–ª—å</a>
        </div>

        <h1>üìç –ë–ª–∏–∂–∞–π—à–∏–µ –∫ –≤–∞–º —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</h1>

        <div class="address-info">
            <strong>–í–∞—à –∞–¥—Ä–µ—Å:</strong> {{ user_address }}<br>
            <small>–ü–æ–∫–∞–∑–∞–Ω—ã –æ–±—ä–µ–∫—Ç—ã –≤ –ø–æ—Ä—è–¥–∫–µ —É–¥–∞–ª–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç –≤–∞—Å</small>
        </div>

        {% if facilities %}
            {% for f in facilities %}
            <div class="facility-card">
                <span class="distance">üö∂ {{ f.distance }} –∫–º</span>
                <h3><a href="/facility/{{ f.id }}">{{ f.name }}</a></h3>
                <p>üìç {{ f.address }}</p>
                <p>üèò –†–∞–π–æ–Ω: {{ f.district or '–Ω–µ —É–∫–∞–∑–∞–Ω' }}</p>
                <p>‚ôø –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
                    {% if f.available_k == '–ø–æ–ª–Ω–æ—Å—Ç—å—é' %}
                        <span class="available-full">‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é</span>
                    {% elif f.available_k == '—á–∞—Å—Ç–∏—á–Ω–æ' %}
                        <span class="available-partial">‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ</span>
                    {% elif f.available_k == '–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ' %}
                        <span class="available-none">‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</span>
                    {% else %}
                        –Ω–µ —É–∫–∞–∑–∞–Ω–æ
                    {% endif %}
                </p>
            </div>
            {% endfor %}
        {% else %}
            <p>–†—è–¥–æ–º —Å –≤–∞–º–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</p>
        {% endif %}
    </div>
</body>
</html>